<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		#l1 {
			stroke: red;
			stroke-width:20;
		}
	</style>
	<script>
			window.onload = function () {
				
				 let oSvg=document.getElementById('svg1');

			      let cx=400,cy=300,r=200;

			      function pie(start, end, color){
			        let arr=[];

			        //#1
			        let x1=cx+Math.sin(start*Math.PI/180)*r;
			        let y1=cy-Math.cos(start*Math.PI/180)*r;

			        arr.push(`M ${cx},${cy}`);
			        arr.push(`L ${x1},${y1}`);

			        //#2
			        let x2=cx+Math.sin(end*Math.PI/180)*r;
			        let y2=cy-Math.cos(end*Math.PI/180)*r;

			        //?
			        arr.push(`A ${r},${r},0,${(end-start)>180?1:0},1,${x2},${y2}`);

			        //#3
			        arr.push('Z');

			        //创建元素
			        let oPath=document.createElementNS('http://www.w3.org/2000/svg' ,'path');

			        oPath.setAttribute('d', arr.join(' '));
			        oPath.style.fill=color;

			        oSvg.appendChild(oPath);

			        oPath.onmouseover=function (){
			          let arr=[];

			          //#1
			          let x1=cx+Math.sin(start*Math.PI/180)*(r+30);
			          let y1=cy-Math.cos(start*Math.PI/180)*(r+30);

			          arr.push(`M ${cx},${cy}`);
			          arr.push(`L ${x1},${y1}`);

			          //#2
			          let x2=cx+Math.sin(end*Math.PI/180)*(r+30);
			          let y2=cy-Math.cos(end*Math.PI/180)*(r+30);

			          //?
			          arr.push(`A ${r+30},${r+30},0,${(end-start)>180?1:0},1,${x2},${y2}`);

			          //#3
			          arr.push('Z');

			          let newD=arr.join(' ');

			          oPath.setAttribute('d', newD);
			        };

			        oPath.onmouseout=function (){
			          let arr=[];

			          //#1
			          let x1=cx+Math.sin(start*Math.PI/180)*r;
			          let y1=cy-Math.cos(start*Math.PI/180)*r;

			          arr.push(`M ${cx},${cy}`);
			          arr.push(`L ${x1},${y1}`);

			          //#2
			          let x2=cx+Math.sin(end*Math.PI/180)*r;
			          let y2=cy-Math.cos(end*Math.PI/180)*r;

			          //?
			          arr.push(`A ${r},${r},0,${(end-start)>180?1:0},1,${x2},${y2}`);

			          //#3
			          arr.push('Z');

			          let newD=arr.join(' ');

			          oPath.setAttribute('d', newD);
			        };
			      }

			      let arr=[86, 70, 20, 16, 58];
			      let sum=arr.reduce((tmp_result, item)=>tmp_result+item);
			      let ang=arr.map(item=>360*item/sum);
			      let color=['#FC0', '#C0F', '#0CF', '#CF0', '#F0C'];

			      let now=0;
			      ang.forEach((ang, item)=>{
			        pie(now, now+ang, color[item]);
			        now+=ang;
			      });
			};
	</script>
</head>
<body>
	<svg width="800" height="600" id="svg1"></svg>
</body>
</html>