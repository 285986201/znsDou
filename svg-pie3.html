<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		#l1 {
			stroke: red;
			stroke-width:20;
		}
	</style>
	<script>
		window.onload = function () {
			let oSvg = document.getElementById('svg1')	;

			let cx = 400, cy = 300, r = 200;

			function pie(start, end , color) {
				function calcD(r) {
					let arr = [];

					//#1;
					let x1 =cx+Math.sin(start*Math.PI/180)*r;
					let y1 = cy-Math.cos(start*Math.PI/180)*r;

					arr.push(`M ${cx},${cy}`);
					arr.push(`L ${x1},${y1}`);

					//#2
					let x2 = cx+Math.sin(end*Math.PI/180)*r;
					let y2 = cy-Math.cos(end*Math.PI/180)*r;

					//?
					arr.push(`A ${r},${r},0,${(end-start)>180?1:0},1,${x2},${y2}`);

					//#3
					arr.push('Z');

					return arr.join(' ');
				}

				//创建元素
				let oPath = document.createElementNS('http://www.w3.org/2000/svg','path');
				oPath.setAttribute('d', calcD(r));

				oPath.style.fill = color;
				oPath.style.transition = '.3s all ease';

				oSvg.appendChild(oPath);

				oPath.onmouseover = function () {
					oPath.setAttribute('d', calcD(r+15));
				};
				oPath.onmouseout = function () {
					oPath.setAttribute('d', calcD(r));
				};
			}

			let arr=[86,70,20,16,58];
			let sum = arr.reduce((temp_result, item)=>temp_result+item);
			let ang = arr.map(item=>360*item/sum);
			let color = ['#fc0', '#c0f', '#0cf', '#cf0', '#f0c'];

			let now = 0;
			ang.forEach((ang,item)=>{
				pie(now, now+ang, color[item]);
				now+=ang;
			});
		};
	</script>
</head>
<body>
	<svg width="800" height="600" id="svg1"></svg>
</body>
</html>